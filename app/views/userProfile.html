<div id="profile" class="container" ng-controller="ProfileController as profileCtlr">
 	<uw-message ng-model="profileCtlr.errors" danger></uw-message>
  	<uw-loader ng-if="!profileCtlr.user"></uw-loader>
	<div class="content col-md-12 col-sm-12 col-xs-12 no-padding" ng-if="profileCtlr.user">
		<div class="col-md-3 col-sm-12 col-xs-12 text-center sidepanel fadeInLeft animated z-index-10" style="margin-top: 20px;">
			<img ng-src="{{profileCtlr.user.picture}}" class="img-circle image-contact" ng-if="profileCtlr.user.picture">
			<img ng-src="resources/contact/pulpix.png" class="img-circle image-contact" ng-if="!profileCtlr.user.picture">
			<span class="profile-name">{{profileCtlr.user.name}}</span>
			<div class="clearfix"></div>
			<div class="col-md-12 col-sm-12 col-xs-12 no-padding">
				<a href="" class="btn btn-unify-primary btn-block" ng-click="profileCtlr.edit();" style="margin-top: 10px;">Editar perfil</a>
				<uw-question uw-description="'Desde acá podés editar tu perfil de Unify.'" class="z-index-10 col-md-10 col-md-offset-2  text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -10px; line-height: initial;"></uw-question>
			</div>
			<div class="col-md-12 hidden-sm hidden-xs" style="padding: 15px 15px 5px 15px">
				<div class="clearfix"></div>
				<div class="social-network-bullet col-md-12 hidden-sm hidden-xs">
					<div class="social-image" ng-class="{'social-image-unlink': !profileCtlr.user.facebook.display_name}">
						<img ng-src="resources/facebook.png" width="20px">
					</div>
					<div class="overflow-x-hidden">
						<span ng-show="profileCtlr.user.facebook.display_name">
							{{profileCtlr.user.facebook.display_name}}
						</span>
						<div ng-hide="profileCtlr.user.facebook.display_name">
							<a href="" ui-sref="editProfile" >
								Asociá esta cuenta
							</a>
							<uw-question uw-description="'Vinculá la cuenta que te falta desde este botón.'" class="z-index-10 col-md-12 col-sm-12 col-xs-12 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -10px; left: -30px; line-height: initial;"></uw-question>
						</div>
					</div>
				</div>
				<div class="social-network-bullet col-md-12 col-sm-12 col-xs-12">
					<div class="social-image" ng-class="{'social-image-unlink': !profileCtlr.user.twitter.username}">
						<img ng-src="resources/twitter.png" width="20px">
					</div>
					<div class="overflow-x-hidden">
						<span ng-show="profileCtlr.user.twitter.username">
							{{'@'+profileCtlr.user.twitter.username}}
						</span>
						<div ng-hide="profileCtlr.user.twitter.username">
							<a href="" ui-sref="editProfile" >
								Asociá esta cuenta
							</a>
							<uw-question uw-description="'Vinculá la cuenta que te falta desde este botón.'" class="z-index-10 col-md-12 col-sm-12 col-xs-12 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -10px; left: -30px; line-height: initial;"></uw-question>
						</div>
					</div>
				</div>
				<div class="social-network-bullet col-md-12 col-sm-12 col-xs-12">
					<div class="social-image" ng-class="{'social-image-unlink': !profileCtlr.user.instagram.username }">
						<img ng-src="resources/instagram.png" width="20px">
					</div>
					<div class="overflow-x-hidden">
						<span ng-show="profileCtlr.user.instagram.username">
							{{profileCtlr.user.instagram.username}}
						</span>
						<div ng-hide="profileCtlr.user.instagram.username">
							<a href="" ui-sref="editProfile" >
								Asociá esta cuenta
							</a>
							<uw-question uw-description="'Vinculá la cuenta que te falta desde este botón.'" class="z-index-10 col-md-12 col-sm-12 col-xs-12 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -10px; left: -30px; line-height: initial;"></uw-question>
						</div>
					</div>
				</div>			
				<div class="social-network-bullet col-md-12 col-sm-12 col-xs-12">
					<div class="social-image" ng-class="{'social-image-unlink': !profileCtlr.user.google.email}">
						<img ng-src="resources/gmail.png" width="20px">
					</div>
					<div class="overflow-x-hidden">
						<span ng-show="profileCtlr.user.google.email">
							{{profileCtlr.user.google.email}}
						</span>
						<div ng-hide="profileCtlr.user.google.email">
							<a href="" ui-sref="editProfile" >
								Asociá esta cuenta
							</a>
							<uw-question uw-description="'Vinculá la cuenta que te falta desde este botón.'" class="z-index-10 col-md-12 col-sm-12 col-xs-12 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -10px; left: -30px; line-height: initial;"></uw-question>
						</div>
					</div>
				</div>
				<div class="clearfix"></div>
			</div>
			<div class="col-md-12 col-sm-12 col-xs-12 no-padding">
				<a class="btn btn-unify-primary btn-block" ui-sref="editProfile" style="margin-top: 10px;">Editar cuentas</a>
				<uw-question uw-description="'Clic acá para editar las cuentas que tenés vinculadas.'" class="z-index-10 col-md-10 col-md-offset-2 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -10px; line-height: initial;"></uw-question>
			</div>
			<div class="col-md-12 col-sm-12 col-xs-12 no-padding">
				<a class="btn btn-unify-primary-invert btn-block text-left" ng-click="profileCtlr.editPass();" style="margin-top: 10px;">Editar Password</a>
				<uw-question uw-description="'Para cambiar tu contraseña, clic acá.'" class="z-index-10 col-md-10 col-md-offset-2 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -10px; line-height: initial;"></uw-question>
			</div>
		</div>
		<div class="col-md-9 col-sm-12 col-xs-12" style="margin-top: 10px;" ng-hide="profileCtlr.editProfile || profileCtlr.editPassword">
  			<uw-loader ng-if="!profileCtlr.feed"></uw-loader>
  			<uw-public-input ng-if="profileCtlr.feed" uw-parent="profileCtlr"></uw-public-input>
			<uw-time-line uw-media="profileCtlr.feed" ng-if="profileCtlr.feed" uw-name="profileCtlr.user.name" uw-picture="profileCtlr.user.picture"></uw-time-line>
		</div>
		<div class="col-md-9 col-sm-12 col-xs-12" ng-show="profileCtlr.editProfile" style="margin-top: 20px;">
			<div class="fadeInRight animated">
				<div class="col-md-12 col-sm-12 col-xs-12 text-center">
					<span class="title-unify">Editar Perfil</span>
				</div>
				<form name="profileForm" ng-submit="profileCtlr.save()" class="col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-8 col-xs-offset-2 form-horizontal" role="form" novalidate>
					<div class="form-group">
						<input id="fileUploadInput" type="file" ngf-select ng-model="profileCtlr.newUser.uploadingFile" name="file" accept="image/*" ngf-max-size="5MB" style="display:none;">
                    </div>
					<div class="col-md-12 col-sm-12 col-xs-12 text-center">
						<img ng-src="{{profileCtlr.newUser.picture}}" class="img-circle image-contact" ng-show="!profileCtlr.newUser.pictureFromFile" ng-if="profileCtlr.newUser.picture">
						<img ngf-src="profileCtlr.newUser.file" class="img-circle image-contact" ng-show="profileCtlr.newUser.pictureFromFile">
						<img src="resources/contact/pulpix.png" class="img-circle image-contact" ng-if="!profileCtlr.newUser.picture">
					</div>
					<div class="profile-pics col-md-12 col-sm-12 col-xs-12 text-center z-index-10">
						<div class="row profile-pics-title">
							Clickéa en la foto que quieras para tu perfil
						</div>
						<div class="profile-pics-images col-md-12 col-sm-12 col-xs-12 no-padding text-center">
								<img ng-src="{{profileCtlr.user.facebook.picture}}" ng-click="profileCtlr.newUser.picture=profileCtlr.user.facebook.picture; profileCtlr.newUser.pictureFromFile=false;" class="img-circle col-md-3 col-sm-3 col-xs-6">
								<img ng-src="{{profileCtlr.user.twitter.picture}}" ng-click="profileCtlr.newUser.picture=profileCtlr.user.twitter.picture; profileCtlr.newUser.pictureFromFile=false;" class="img-circle col-md-3 col-sm-3 col-xs-6">
								<img ng-src="{{profileCtlr.user.instagram.picture}}" ng-click="profileCtlr.newUser.picture=profileCtlr.user.instagram.picture; profileCtlr.newUser.pictureFromFile=false;" class="img-circle col-md-3 col-sm-3 col-xs-6">
								<img ng-src="{{profileCtlr.user.google.picture}}" ng-click="profileCtlr.newUser.picture=profileCtlr.user.google.picture; profileCtlr.newUser.pictureFromFile=false;" class="img-circle col-md-3 col-sm-3 col-xs-6">
								<uw-question uw-description="'Elegí cualquiera de las fotos de perfil de tus cuentas vinculadas como foto de perfil de Unify.'" class="z-index-10 col-md-6 col-md-offset-3 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -35px; left: 30px; line-height: initial;"></uw-question>
						</div>

						<span class="unify-color col-md-12 col-sm-12 col-xs-12">O también podes subir una foto</span>
						
						<div class="profile-pics-images col-md-12 col-sm-12 col-xs-12 no-padding text-center">
							<div class="centered">
								<img ngf-src="profileCtlr.newUser.file" ng-click="profileCtlr.newUser.pictureFromFile=true;" class="img-circle image-edit centered">

								<img ng-src="{{profileCtlr.user.pictureUploaded}}" ng-click="profileCtlr.newUser.picture=profileCtlr.user.pictureUploaded; profileCtlr.newUser.pictureFromFile=false;" class="img-circle image-edit centered" ng-show="profileCtlr.user.pictureUploaded && !profileCtlr.newUser.pictureFromFile">
							</div>
						</div>
						<span class="delete-link col-md-12" ng-show="profileForm.file.$error.maxSize">La imagen es demasiado grande, se pueden subir hasta imagenes de 5MB</span> 
						<div class="col-md-12 col-sm-12 col-xs-12 centered">
							<a href="" ng-click="profileCtlr.uploadFile();" class="btn btn-unify-default">{{!profileCtlr.newUser.file ? 'Subir' : 'Subir otra'}}</a>
							<uw-question uw-description="'Clic acá para subir una foto desde tu dispositivo como foto de perfil.'" class="z-index-10 col-md-8 col-md-offset-4 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -10px; line-height: initial;left: -13px;"></uw-question>
						</div>
						
					</div>
					<div class="clearfix"></div>
					<div class="fadeInRight animated z-index-15">
						<div class="form-group">
	                        <label>{{'logon_name' | translate}}</label>
	                        <input type="text" class="form-control form-input" name="name" ng-model="profileCtlr.newUser.name" required>
                        </div>
                        <uw-question uw-description="'Cargá el nombre para mostrar de tu usuario.'" class="z-index-10 col-md-8 col-md-offset-4 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -18px; line-height: initial;left: -13px;"></uw-question>
                    	<div class="form-group">
	                        <label>{{'logon_email' | translate}}</label>
	                        <input type="email" class="form-control form-input" name="email" ng-model="profileCtlr.newUser.email" required>
	                    </div>
                        <uw-question uw-description="'Indicá tu dirección de correo electrónico.'" class="z-index-10 col-md-8 col-md-offset-4 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -18px; line-height: initial;left: -13px;"></uw-question>
                        <br>
		                <button type="submit" value="Submit"        
		                         ng-disabled="profileForm.$invalid"
		                         ng-click="profileForm.$setPristine()"
		                        class="btn btn-unify-primary col-md-6 col-sm-6 col-xs-6">Guardar</button>
		                <a class="btn btn-unify-primary-invert col-md-6 col-sm-6 col-xs-6" ng-click="profileCtlr.editProfile=false;">Cancelar</a>
	                </div>
	       		</form>
       		</div>
       	</div>
		<div class="col-md-9 col-sm-12 col-xs-12" ng-show="profileCtlr.editPassword" style="margin-top: 20px;">
			<div class="fadeInRight animated">
				<div class="col-md-12 col-sm-12 col-xs-12 text-center">
					<span class="title-unify">Editar Contraseña</span>
				</div>
				<form name="passwordForm" ng-submit="profileCtlr.savePassword()" class="col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-sm-8 form-horizontal" role="form" novalidate>
									<div class="form-group" ng-if="profileCtlr.validLocalUser">
	                    <label>Ingresá tu contraseña actual</label>
	                    <input type="password" class="form-control form-input" name="old_password" ng-model="profileCtlr.password.old_password" required>
	                    <uw-question uw-description="'Acá tenés que poner tu contraseña actual, para estar seguros que alguien más no quiere cambiar tu contraseña.'" class="z-index-10 col-md-8 col-md-offset-4 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -8px; line-height: initial;left: -13px;"></uw-question>
	                </div>
					<div class="form-group">
	                    <label>{{'logon_pass' | translate}}</label>
	                    <input type="password" class="form-control form-input" name="password" ng-model="profileCtlr.password.password" required>
	                    <uw-question uw-description="'Ingresá acá la que va a ser tu nueva contraseña.'" class="z-index-10 col-md-8 col-md-offset-4 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -8px; line-height: initial;left: -13px;"></uw-question>
	                </div>
	                <div class="form-group">
	                    <label>{{'logon_confirm_pass' | translate}}</label>
	                    <input type="password" class="form-control form-input" name="password" ng-model="profileCtlr.password.confirm_password" required>
	                    <uw-question uw-description="'Confirmá tu nueva contraseña volviendola a ingresar acá.'" class="z-index-10 col-md-8 col-md-offset-4 text-center" ng-show="$root.showQuestions" style="position: relative; margin-top: -8px; line-height: initial;left: -13px;"></uw-question>
	                </div>
	                <button type="submit" value="Submit"                                        
	                        ng-disabled="passwordForm.$invalid || profileCtlr.password.password != profileCtlr.password.confirm_password"
	                        ng-click="passwordForm.$setPristine() "
	                        class="btn btn-unify-primary col-md-6 col-sm-6 col-xs-6">Guardar</button>
	                <a class="btn btn-unify-primary-invert col-md-6 col-sm-6 col-xs-6" ng-click="profileCtlr.editPassword=false;profileCtlr.password={}">Cancelar</a>
	       		</form>
			</div>
		</div>

	</div>
</div>